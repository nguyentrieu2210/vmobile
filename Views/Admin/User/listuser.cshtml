@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
	ViewData["Title"] = "Quản lý thành viên";
	Layout = "~/Views/Admin/Shared/AdminLayout.cshtml";
}
@* @model IEnumerable<User> *@
<div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">
	<div class="row">
		<ol class="breadcrumb">
			<li>
				<a href="#">
					<svg class="glyph stroked home">
						<use xlink:href="#stroked-home"></use>
					</svg>
				</a>
			</li>
			<li class="active">Danh sách thành viên</li>
		</ol>
	</div>
	<!--/.row-->

	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">Danh sách thành viên</h1>
		</div>
	</div>
	<!--/.row-->

	<div class="row">
		<div class="col-xs-12 col-md-12 col-lg-12">

			<div class="panel panel-primary">

				<div class="panel-body">
					<div class="bootstrap-table">
						<div class="table-responsive">
							@* <div class="alert bg-success" role="alert">
							<svg class="glyph stroked checkmark">
							<use xlink:href="#stroked-checkmark"></use>
							</svg>Đã thêm thành công<a href="#" class="pull-right"><span class="glyphicon glyphicon-remove"></span></a>
							</div> *@
							<a href="/admin/user/add" class="btn btn-primary">Thêm Thành viên</a>
							<table class="table table-bordered" style="margin-top:20px;">

								<thead>
									<tr class="bg-primary">
										<th>ID</th>
										<th>Email</th>
										<th>Họ tên</th>
										<th>Địa chỉ</th>
										<th>Số điện thoại</th>
										<!-- <th>Quyền</th> -->
										<th width='18%'>Thao tác</th>
									</tr>
								</thead>
								<tbody>
									@foreach (var user in Model)
									{
										<tr>
											<td>@user.Id</td>
											<td>@user.Email</td>
											<td>@user.Name</td>
											<td>@user.Address</td>
											<td>@user.Phone</td>
											<td>
												<a href="/admin/user/edit/@user.Id" class="btn btn-warning"><i class="fa fa-pencil" aria-hidden="true"></i> Sửa</a>
												<a asp-controller="User" asp-action="Delete" asp-route-id="@user.Id" class="btn btn-danger"><i class="fa fa-trash" aria-hidden="true"></i> Xóa</a>
											</td>
										</tr>
									}
								</tbody>
							</table>
						</div>
						<div class="clearfix"></div>
					</div>
					@{
						var PreviousPage = Model.PageNumber - 1;
						var NextPage = Model.PageNumber + 1;
						var step = 1;
					}
					<div id="pagination">
						<ul class="pagination">
							@if (Model.HasPreviousPage)
							{
								<li class="page-item"><a class="page-link" href="~/admin/user/@PreviousPage">Trang trước</a></li>
							}
							@if (Model.PageCount != 1)
							{
								<li class="page-item"><a class="page-link" href="~/admin/user/1">1</a></li>
							}
							@if (Model.PageNumber - step > 2 && Model.PageNumber != 2)
							{
								<li class="page-item"><a class="page-link">...</a></li>
							}
							@for (int i = (Model.PageNumber == 1 ? 1 + step : (Model.PageNumber - step < 2 ? Model.PageNumber : Model.PageNumber - step)); i <= (Model.PageNumber == Model.PageCount ? Model.PageCount - 1 : (Model.PageNumber + step >= Model.PageCount ? Model.PageNumber : Model.PageNumber + step)); i = i + step)
							{

								<li class="page-item"><a class="page-link" href="~/admin/user/@i">@i</a></li>

							}
							@if (Model.PageNumber + step < Model.PageCount - 1 && Model.PageNumber != Model.PageCount - 1)
							{
								<li class="page-item"><a class="page-link">...</a></li>
							}
							<li class="page-item"><a class="page-link" href="~/admin/user/@Model.PageCount">@Model.PageCount</a></li>

							@if (Model.HasNextPage)
							{
								<li class="page-item"><a class="page-link" href="~/admin/user/@NextPage">Trang sau</a></li>
							}

						</ul>
					</div>
				</div>
			</div>
			<!--/.row-->


		</div>
		<!--end main-->
		<!-- javascript -->
		<script src="js/jquery-1.11.1.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/chart.min.js"></script>
		<script src="js/chart-data.js"></script>
